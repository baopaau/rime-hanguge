# Rime schema
# encoding: utf-8

schema:
  schema_id: hanguge
  name: 한국어
  version: "3.0"
  author:
    - Baopaau <baopaau@gmail.com>
    
  description: |
    A Romanized schema for typing Hangeul and Hanja
    The transliteration system for Hangeul is similar to Fukui(福井玲式) and Abkai(太清轉寫), but without using any non-letter (`/speller/algebra`)
    
    * Required [TH폰트](http://cheonhyeong.com/File/TH-Tshyn-3.0.0.7z) for displaying non-Unicode old-Hangeul characters
    
    # Special Thanks
    - Sim Cheon Hyeong [Extended Hangeul Spelling and Displaying]
    - Choe Hwanjin [Hanja Dictionary](https://github.com/choehwanjin/libhangul)
    
  dependencies:
    - oldhangeul # dictionary [Download](http://cheonhyeong.com/File/Rime-OldHangeul-SimCH-V3.0.7z)

switches:
  - name: ascii_mode
    states: [ 한굴, ASCII ]
  - name: full_shape
    states: [ 半形, 全形 ]
  - name: ascii_punct
    states: [ 。，, ．， ]
    reset: 1
  - name: hanjaeum
    states: [ 한자음 , 漢字音 ]
  - name: goyueo
    states: [ 석독 , 釋讀 ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    #- table_translator
  filters:
    - simplifier
    - simplifier@hanjaeum
    - simplifier@goyueo
    - uniquifier

menu:
  page_size: 6

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " -"
  algebra: &mapping
    - xlit/plmkjhn_oiub_dDgG_aAqQvV_srzeRxZfF_tTYwWEcXCy/ʌiwaeou_AEOU_qŋhx_mɱbvpf_ngkdDtTrl_sŝšjĵǰcĉčz/
    #ㆍㅣㅡㅏㅓㅗㅜ　ㅑㅕㅛㅠ　ㅇㆁㅎㆆ　ㅁㅱㅂㅸㅍㆄ　ㄴㄱㅋㄷ디ㅌ티ㄹᄛ　ㅅᄼᄾㅈᅎᅐㅊᅔᅕㅿ
    - abbrev/\<q([ʌiwaeouAEOU])/$1/
    - xform/([AEOU])/y\l$1/
    - xform/ʌ/au/
    - xform/ng/nk/
    - xform/ŋ/ng/
    - xform/ɱ/mv/
    - xform/D/dn/
    - xform/T/tn/
    - xform/ŝ/sv/
    - xform/š/sf/
    - xform/ĵ/jv/
    - xform/ǰ/jf/
    - xform/ĉ/cv/
    - xform/č/cf/
    - xform/([sjc])([fv])\1\2/$1$1$2/
    #- derive/y[ou]y/yw/
    
translator:
  dictionary: oldhangeul
  spelling_hints: 7
  
  comment_format: *mapping
  preedit_format:
    - xform/([sjc])\1([fv])/$1$2$1$2/
    - xform/tn/T/
    - xform/dn/D/
    - xform/cf/č/
    - xform/cv/ĉ/
    - xform/jf/ǰ/
    - xform/jv/ĵ/
    - xform/sf/š/
    - xform/sv/ŝ/
    - xform/mv/ɱ/
    - xform/ng/ŋ/
    - xform/nk/ng/
    - xform/au/ʌ/
    - xform/y([aeou])/\U$1/
    - xlit/ʌiwaeou_AEOU_qŋhx_mɱbvpf_ngkdDtTrl_sŝšjĵǰcĉčz/ㆍㅣㅡㅏㅓㅗㅜ_ㅑㅕㅛㅠ_ㅇㆁㅎㆆ_ㅁㅱㅂㅸㅍㆄ_ㄴㄱㅋㄷ디ㅌ티ㄹᄛ_ㅅᄼᄾㅈᅎᅐㅊᅔᅕㅿ/
    - xform/디/ᄃᅌ/
    - xform/티/ᄐᅌ/
  
hanjaeum:
  opencc_config: korean_hanjaeum.json
  option_name: hanjaeum
  #tips: all
  
goyueo:
  opencc_config: korean_goyueo.json
  option_name: goyueo
  tips: all

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default
  bindings:
    - { when: has_menu, accept: space, send: "-" }
  
recognizer:
  import_preset: default
  patterns:
    punct: "^/.*$"
    all: "^*.$"
  